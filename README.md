# ğŸš€ Backpack æ™ºèƒ½äº¤æ˜“ç³»ç»Ÿ

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Node.js Version](https://img.shields.io/badge/node-%3E%3D%2018.0.0-brightgreen)](https://nodejs.org/)
[![JavaScript](https://img.shields.io/badge/JavaScript-ES6+-yellow)](https://developer.mozilla.org/en-US/docs/Web/JavaScript)

ä¸€ä¸ªåŸºäº **Backpack äº¤æ˜“æ‰€** çš„æ™ºèƒ½è‡ªåŠ¨åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œä¸“ä¸ºåŠ å¯†è´§å¸äº¤æ˜“è€…è®¾è®¡ã€‚æ”¯æŒé€’å¢ä¹°å…¥ç­–ç•¥ã€å®æ—¶ä»·æ ¼ç›‘æ§ã€è‡ªåŠ¨æ­¢ç›ˆå’Œé£é™©ç®¡ç†ã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ¯ æ™ºèƒ½äº¤æ˜“ç­–ç•¥
- **é€’å¢ä¹°å…¥ç­–ç•¥**ï¼šæ ¹æ®ä»·æ ¼ä¸‹è·Œç¨‹åº¦ï¼Œè‡ªåŠ¨å¢åŠ ä¹°å…¥é‡
- **åŠ¨æ€æ­¢ç›ˆ**ï¼šè¾¾åˆ°é¢„è®¾ç›ˆåˆ©ç›®æ ‡è‡ªåŠ¨å–å‡º
- **é£é™©æ§åˆ¶**ï¼šè®¾ç½®æœ€å¤§ä¸‹è·Œç™¾åˆ†æ¯”ï¼Œæ§åˆ¶é£é™©æ•å£
- **å¤šå¸ç§æ”¯æŒ**ï¼šæ”¯æŒ BTCã€ETHã€SOL ç­‰ä¸»æµåŠ å¯†è´§å¸

### ğŸ“Š å®æ—¶ç›‘æ§
- **WebSocket ä»·æ ¼æµ**ï¼šå®æ—¶æ¥æ”¶å¸‚åœºä»·æ ¼æ•°æ®
- **äº¤æ˜“ç»Ÿè®¡**ï¼šå®æ—¶è®¡ç®—æˆäº¤é‡ã€å‡ä»·å’Œç›ˆäºæƒ…å†µ
- **çŠ¶æ€ç›‘æ§**ï¼šç›‘æ§è®¢å•çŠ¶æ€ã€è¿æ¥çŠ¶æ€å’Œç³»ç»Ÿå¥åº·åº¦
- **æ—¥å¿—è®°å½•**ï¼šè¯¦ç»†çš„äº¤æ˜“æ—¥å¿—å’Œé”™è¯¯è®°å½•

### ğŸ”„ è‡ªåŠ¨åŒ–ç®¡ç†
- **æ™ºèƒ½é‡å¯**ï¼šæ— è®¢å•æˆäº¤æˆ–æ­¢ç›ˆåè‡ªåŠ¨é‡å¯æ–°ä¸€è½®
- **è®¢å•ç®¡ç†**ï¼šè‡ªåŠ¨åˆ›å»ºã€å–æ¶ˆå’Œè·Ÿè¸ªè®¢å•
- **å¼‚å¸¸å¤„ç†**ï¼šç½‘ç»œæ–­çº¿ã€APIé”™è¯¯è‡ªåŠ¨é‡è¯•
- **ä¼˜é›…é€€å‡º**ï¼šæ”¯æŒå®‰å…¨é€€å‡ºå’Œèµ„æºæ¸…ç†

## ğŸ—ï¸ é¡¹ç›®æ¶æ„

```
backpack-trading-system/
â”œâ”€â”€ src/                        # æºä»£ç ç›®å½•
â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”‚   â””â”€â”€ configLoader.js     # é…ç½®åŠ è½½å™¨
â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ orderManager.js     # è®¢å•ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ priceMonitor.js     # ä»·æ ¼ç›‘æ§å™¨
â”‚   â”‚   â””â”€â”€ tradingStrategy.js  # äº¤æ˜“ç­–ç•¥å¼•æ“
â”‚   â”œâ”€â”€ models/                 # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Order.js           # è®¢å•æ¨¡å‹
â”‚   â”‚   â””â”€â”€ TradeStats.js      # äº¤æ˜“ç»Ÿè®¡æ¨¡å‹
â”‚   â”œâ”€â”€ network/                # ç½‘ç»œé€šä¿¡
â”‚   â”‚   â””â”€â”€ webSocketManager.js # WebSocketç®¡ç†å™¨
â”‚   â”œâ”€â”€ services/               # æœåŠ¡å±‚
â”‚   â”‚   â””â”€â”€ backpackService.js  # Backpack APIæœåŠ¡
â”‚   â”œâ”€â”€ utils/                  # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ formatter.js        # æ•°æ®æ ¼å¼åŒ–
â”‚   â”‚   â”œâ”€â”€ logger.js          # æ—¥å¿—ç³»ç»Ÿ
â”‚   â”‚   â””â”€â”€ timeUtils.js       # æ—¶é—´å·¥å…·
â”‚   â”œâ”€â”€ app.js                  # åº”ç”¨ä¸»ç±»
â”‚   â””â”€â”€ index.js               # ç¨‹åºå…¥å£
â”œâ”€â”€ scripts/                    # è„šæœ¬ç›®å½•
â”‚   â”œâ”€â”€ start.js               # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ stop.js                # åœæ­¢è„šæœ¬
â”œâ”€â”€ logs/                       # æ—¥å¿—ç›®å½•
â”œâ”€â”€ backpack_trading_config.json # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ package.json               # é¡¹ç›®é…ç½®
â””â”€â”€ README.md                  # é¡¹ç›®æ–‡æ¡£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚
- **Node.js**: >= 18.0.0
- **npm**: >= 8.0.0
- **Backpack äº¤æ˜“æ‰€è´¦æˆ·**å’Œ API å¯†é’¥

### 2. å®‰è£…ä¾èµ–
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/backpack-trading-system.git
cd backpack-trading-system

# å®‰è£…ä¾èµ–
npm install
```

### 3. é…ç½® API å¯†é’¥
ç¼–è¾‘ `backpack_trading_config.json` æ–‡ä»¶ï¼š
```json
{
  "api": {
    "privateKey": "YOUR_PRIVATE_KEY_HERE",
    "publicKey": "YOUR_PUBLIC_KEY_HERE"
  }
}
```

### 4. å¯åŠ¨äº¤æ˜“ç³»ç»Ÿ
```bash
# æ–¹å¼1ï¼šç›´æ¥å¯åŠ¨ï¼ˆæ¨èï¼‰
node src/index.js

# æ–¹å¼2ï¼šä½¿ç”¨npmè„šæœ¬
npm start

# æ–¹å¼3ï¼šä½¿ç”¨è„šæœ¬ç®¡ç†å™¨
npm run dev
```

## âš™ï¸ é…ç½®è¯´æ˜

### æ ¸å¿ƒäº¤æ˜“é…ç½®
```json
{
  "trading": {
    "tradingCoin": "BTC",           // äº¤æ˜“å¸ç§
    "maxDropPercentage": 1.2,       // æœ€å¤§ä¸‹è·Œç™¾åˆ†æ¯”
    "totalAmount": 1000,            // æ€»æŠ•èµ„é‡‘é¢(USDC)
    "orderCount": 4,                // åŒæ—¶æŒ‚å•æ•°é‡
    "incrementPercentage": 20,      // é€’å¢ä¹°å…¥ç™¾åˆ†æ¯”
    "takeProfitPercentage": 0.08    // æ­¢ç›ˆç™¾åˆ†æ¯”
  }
}
```

### åŠŸèƒ½å¼€å…³
```json
{
  "actions": {
    "sellNonUsdcAssets": true,      // å¯åŠ¨æ—¶å–å‡ºéUSDCèµ„äº§
    "cancelAllOrders": true,        // å¯åŠ¨æ—¶å–æ¶ˆç°æœ‰è®¢å•
    "restartAfterTakeProfit": true, // æ­¢ç›ˆåè‡ªåŠ¨é‡å¯
    "autoRestartNoFill": true       // æ— æˆäº¤è‡ªåŠ¨é‡å¯
  }
}
```

### é«˜çº§é…ç½®
```json
{
  "advanced": {
    "minOrderAmount": 10,                    // æœ€å°è®¢å•é‡‘é¢
    "checkOrdersIntervalMinutes": 2,         // è®¢å•æ£€æŸ¥é—´éš”
    "monitorIntervalSeconds": 5,             // ç›‘æ§é—´éš”
    "noFillRestartMinutes": 0.5,            // æ— æˆäº¤é‡å¯æ—¶é—´
    "quickRestartAfterTakeProfit": true,     // å¿«é€Ÿé‡å¯
    "maxDailyTrades": 20                     // æ¯æ—¥æœ€å¤§äº¤æ˜“æ¬¡æ•°
  }
}
```

### ç²¾åº¦è®¾ç½®
```json
{
  "quantityPrecisions": {
    "BTC": 5,      // BTCæ•°é‡ç²¾åº¦
    "ETH": 4,      // ETHæ•°é‡ç²¾åº¦
    "SOL": 2,      // SOLæ•°é‡ç²¾åº¦
    "DEFAULT": 2   // é»˜è®¤ç²¾åº¦
  },
  "pricePrecisions": {
    "BTC": 0,      // BTCä»·æ ¼ç²¾åº¦
    "ETH": 2,      // ETHä»·æ ¼ç²¾åº¦
    "SOL": 2,      // SOLä»·æ ¼ç²¾åº¦
    "DEFAULT": 2   // é»˜è®¤ç²¾åº¦
  }
}
```

## ğŸ“Š äº¤æ˜“ç­–ç•¥è¯¦è§£

### é€’å¢ä¹°å…¥ç­–ç•¥
ç³»ç»Ÿé‡‡ç”¨æ™ºèƒ½é€’å¢ä¹°å…¥ç­–ç•¥ï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯**åœ¨ä»·æ ¼ä¸‹è·Œæ—¶å¢åŠ ä¹°å…¥é‡**ï¼š

1. **åˆå§‹è®¾ç½®**ï¼šåœ¨å½“å‰ä»·æ ¼ä»¥ä¸‹è®¾ç½®å¤šä¸ªä¹°å…¥è®¢å•
2. **ä»·æ ¼é€’å‡**ï¼šæ¯ä¸ªè®¢å•ä»·æ ¼é€æ­¥é™ä½
3. **æ•°é‡é€’å¢**ï¼šéšç€ä»·æ ¼é™ä½ï¼Œä¹°å…¥æ•°é‡æŒ‰æ¯”ä¾‹å¢åŠ 
4. **æˆæœ¬å¹³å‡**ï¼šé€šè¿‡å¤šæ¬¡ä¹°å…¥é™ä½å¹³å‡æˆæœ¬
5. **æ­¢ç›ˆé€€å‡º**ï¼šä»·æ ¼å›å‡åˆ°ç›ˆåˆ©ç‚¹è‡ªåŠ¨å–å‡º

### é£é™©ç®¡ç†
- **æœ€å¤§ä¸‹è·Œä¿æŠ¤**ï¼šè®¾ç½®æœ€å¤§å®¹å¿ä¸‹è·Œå¹…åº¦
- **èµ„é‡‘åˆ†é…**ï¼šæ™ºèƒ½åˆ†é…æ¯ç¬”è®¢å•çš„èµ„é‡‘
- **æ­¢æŸæœºåˆ¶**ï¼šè¾¾åˆ°æœ€å¤§æŸå¤±è‡ªåŠ¨åœæ­¢
- **æ—¶é—´é™åˆ¶**ï¼šè®¾ç½®äº¤æ˜“æ—¶é—´çª—å£

## ğŸ”§ é«˜çº§åŠŸèƒ½

### è‡ªåŠ¨åŒ–ç®¡ç†
```javascript
// è‡ªåŠ¨é‡å¯é…ç½®
"restartAfterTakeProfit": true,    // æ­¢ç›ˆåé‡å¯
"autoRestartNoFill": true,         // æ— æˆäº¤é‡å¯
"quickRestartAfterTakeProfit": true // å¿«é€Ÿé‡å¯æ¨¡å¼
```

### å®æ—¶ç›‘æ§
- **WebSocket è¿æ¥**ï¼šå®æ—¶ä»·æ ¼æ•°æ®æµ
- **è®¢å•çŠ¶æ€è¿½è¸ª**ï¼šå®æ—¶ç›‘æ§è®¢å•æ‰§è¡Œæƒ…å†µ
- **ç›ˆäºè®¡ç®—**ï¼šå®æ—¶è®¡ç®—è´¦æˆ·ç›ˆäº
- **ç³»ç»Ÿå¥åº·æ£€æŸ¥**ï¼šç›‘æ§ç³»ç»Ÿè¿è¡ŒçŠ¶æ€

### æ—¥å¿—ç³»ç»Ÿ
```bash
logs/
â”œâ”€â”€ app_2024-01-01.log           # åº”ç”¨æ—¥å¿—
â”œâ”€â”€ trade_2024-01-01.log         # äº¤æ˜“æ—¥å¿—
â””â”€â”€ error_2024-01-01.log         # é”™è¯¯æ—¥å¿—
```

## ğŸ“ˆ ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€äº¤æ˜“é…ç½®
```json
{
  "trading": {
    "tradingCoin": "SOL",
    "totalAmount": 500,
    "orderCount": 5,
    "maxDropPercentage": 3.0,
    "incrementPercentage": 15,
    "takeProfitPercentage": 1.5
  }
}
```

### ä¿å®ˆäº¤æ˜“é…ç½®
```json
{
  "trading": {
    "tradingCoin": "BTC",
    "totalAmount": 1000,
    "orderCount": 3,
    "maxDropPercentage": 1.0,
    "incrementPercentage": 10,
    "takeProfitPercentage": 0.8
  }
}
```

### æ¿€è¿›äº¤æ˜“é…ç½®
```json
{
  "trading": {
    "tradingCoin": "ETH",
    "totalAmount": 2000,
    "orderCount": 8,
    "maxDropPercentage": 5.0,
    "incrementPercentage": 25,
    "takeProfitPercentage": 2.0
  }
}
```

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æœ¬åœ°å¼€å‘
```bash
# å¼€å‘æ¨¡å¼è¿è¡Œ
npm run dev

# å¯åŠ¨æµ‹è¯•
npm test

# ä»£ç æ ¼å¼åŒ–
npm run lint
```

### è‡ªå®šä¹‰ç­–ç•¥
```javascript
// åœ¨ src/core/tradingStrategy.js ä¸­æ·»åŠ æ–°ç­–ç•¥
class CustomTradingStrategy {
  calculateOrderPrices(currentPrice, config) {
    // è‡ªå®šä¹‰ä»·æ ¼è®¡ç®—é€»è¾‘
  }
  
  shouldTakeProfit(currentPrice, averagePrice, config) {
    // è‡ªå®šä¹‰æ­¢ç›ˆæ¡ä»¶
  }
}
```

### æ·»åŠ æ–°çš„äº¤æ˜“æ‰€
1. åœ¨ `src/services/` ä¸­åˆ›å»ºæ–°çš„äº¤æ˜“æ‰€æœåŠ¡
2. å®ç°ç»Ÿä¸€çš„æ¥å£è§„èŒƒ
3. åœ¨é…ç½®ä¸­æ·»åŠ äº¤æ˜“æ‰€é€‰æ‹©é€‰é¡¹

## ğŸ”’ å®‰å…¨æ³¨æ„äº‹é¡¹

### API å¯†é’¥å®‰å…¨
- âœ… ä½¿ç”¨ç¯å¢ƒå˜é‡å­˜å‚¨æ•æ„Ÿä¿¡æ¯
- âœ… å®šæœŸè½®æ¢ API å¯†é’¥
- âœ… è®¾ç½® API æƒé™æœ€å°åŒ–åŸåˆ™
- âŒ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥

### äº¤æ˜“é£é™©
- âš ï¸ åŠ å¯†è´§å¸äº¤æ˜“å­˜åœ¨é«˜é£é™©
- âš ï¸ å»ºè®®å…ˆç”¨å°é¢èµ„é‡‘æµ‹è¯•
- âš ï¸ å®šæœŸç›‘æ§äº¤æ˜“çŠ¶æ€
- âš ï¸ è®¾ç½®åˆç†çš„æ­¢æŸä½

## ğŸ¤ è´¡çŒ®æŒ‡å—

### æäº¤ä»£ç 
1. Fork é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯: `git checkout -b feature/new-feature`
3. æäº¤æ›´æ”¹: `git commit -m 'Add new feature'`
4. æ¨é€åˆ†æ”¯: `git push origin feature/new-feature`
5. åˆ›å»º Pull Request

### ä»£ç è§„èŒƒ
- ä½¿ç”¨ ESLint è¿›è¡Œä»£ç æ£€æŸ¥
- éµå¾ª JavaScript Standard Style
- æ·»åŠ é€‚å½“çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•

### æŠ¥å‘Šé—®é¢˜
- ä½¿ç”¨ GitHub Issues æŠ¥å‘Š bug
- æä¾›è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯å’Œå¤ç°æ­¥éª¤
- åŒ…å«ç³»ç»Ÿç¯å¢ƒä¿¡æ¯

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2024-01-01)
- ğŸ‰ å…¨æ–°æ¨¡å—åŒ–æ¶æ„
- âœ¨ æ–°å¢å®æ—¶ WebSocket ç›‘æ§
- ğŸ”§ ä¼˜åŒ–äº¤æ˜“ç­–ç•¥å¼•æ“
- ğŸ“Š æ”¹è¿›ç»Ÿè®¡å’Œæ—¥å¿—ç³»ç»Ÿ
- ğŸ› ä¿®å¤å¤šä¸ªå·²çŸ¥é—®é¢˜

### v1.x.x
- åŸºç¡€äº¤æ˜“åŠŸèƒ½
- ç®€å•çš„ä¹°å…¥å–å‡ºé€»è¾‘
- åŸºç¡€é…ç½®ç®¡ç†

## ğŸ“ æ”¯æŒä¸è”ç³»

- **GitHub Issues**: [é¡¹ç›®é—®é¢˜è¿½è¸ª](https://github.com/yourusername/backpack-trading-system/issues)
- **è®¨è®ºåŒº**: [GitHub Discussions](https://github.com/yourusername/backpack-trading-system/discussions)
- **æ–‡æ¡£**: [é¡¹ç›®æ–‡æ¡£](https://github.com/yourusername/backpack-trading-system/wiki)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

## âš ï¸ å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚åŠ å¯†è´§å¸äº¤æ˜“å­˜åœ¨é«˜é£é™©ï¼Œå¯èƒ½å¯¼è‡´èµ„é‡‘æŸå¤±ã€‚ä½¿ç”¨æœ¬è½¯ä»¶è¿›è¡Œäº¤æ˜“æ—¶ï¼Œè¯·ï¼š

1. å……åˆ†äº†è§£äº¤æ˜“é£é™©
2. ä»…æŠ•èµ„æ‚¨èƒ½æ‰¿å—æŸå¤±çš„èµ„é‡‘
3. å®šæœŸç›‘æ§äº¤æ˜“çŠ¶æ€
4. éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„

**ä½œè€…ä¸å¯¹ä½¿ç”¨æœ¬è½¯ä»¶é€ æˆçš„ä»»ä½•æŸå¤±æ‰¿æ‹…è´£ä»»ã€‚**

---

## ğŸŒŸ Star History

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ï¸ æ”¯æŒï¼

[![Star History Chart](https://api.star-history.com/svg?repos=yourusername/backpack-trading-system&type=Date)](https://star-history.com/#yourusername/backpack-trading-system&Date)

---

**å¿«é€Ÿå¼€å§‹æ‚¨çš„æ™ºèƒ½äº¤æ˜“ä¹‹æ—…ï¼** ğŸš€ 